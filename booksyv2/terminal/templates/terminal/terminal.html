{% extends 'terminal/base.html' %}

{% block content %}
<div class="container">
    <div class="booking-section">
        <h2>Book an Appointment</h2>
        
        <form method="POST" action="{% url 'booking' %}" class="booking-form">
            {% csrf_token %}
            
            <div class="form-group">
                <label for="service">Service:</label>
                <select name="service" id="service" required>
                    <option value="">Select a service</option>
                    {% for service_code, service_name in services %}
                        <option value="{{ service_code }}">{{ service_name }}</option>
                    {% endfor %}
                </select>
            </div>
            
            <div class="form-group">
                <label for="day">Date:</label>
                <input type="date" name="day" id="day" required min="{{ today|date:'Y-m-d' }}">
            </div>
            
            <div class="form-group">
                <label for="time">Time:</label>
                <select name="time" id="time" required>
                    <option value="">Select a time</option>
                    {% for time_value, time_display in times %}
                        <option value="{{ time_value }}">{{ time_display }}</option>
                    {% endfor %}
                </select>
            </div>
            
            <button type="submit">Book Appointment</button>
        </form>
    </div>

    {% if appointments %}
    <div class="appointments-section">
        <h3>My Appointments</h3>
        <ul class="appointments-list">
            {% for appointment in appointments %}
                <li>
                    {{ appointment.service }} on {{ appointment.day }} at {{ appointment.time }}
                </li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}
</div>
{% endblock %}
